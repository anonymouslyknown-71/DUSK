<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dusk â€” Online Bar</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <meta name="description" content="Dusk â€” Premium online bar. Shop limited bottles & send orders via EmailJS." />

  <style>
    :root{
      --bg:#07060a;
      --card:#0f0e12;
      --muted:#9aa0a6;
      --accent:#d8a84a;
      --glass: rgba(255,255,255,0.03);
      --radius:14px;
      --max-width:1100px;
      color:#ececec;
      font-family: Inter, system-ui, -apple-system, Roboto, 'Segoe UI', Arial;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:linear-gradient(180deg,#040406 0%, #0b0b0f 100%);}    
    .container{max-width:var(--max-width);margin:0 auto;padding:20px;}

    .hero{width:100%;min-height:60vh;display:flex;align-items:center;justify-content:center;position:relative;border-radius:12px;overflow:hidden;margin-bottom:18px}
    .hero::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(3,3,3,0.25), rgba(3,3,3,0.6));}
    .hero .bg{position:absolute;inset:0;background-size:cover;background-position:center;}
    .hero .content{position:relative;z-index:2;text-align:center;padding:40px}
    .hero h1{font-size:clamp(28px,6vw,56px);margin:0 0 10px;font-weight:800}
    .hero p{color:var(--muted)}
    .btn{display:inline-block;padding:12px 20px;border-radius:10px;background:var(--accent);color:#120d05;font-weight:700;text-decoration:none;cursor:pointer}

    section#products{margin:12px 0 96px}
    .section-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
    .carousel{display:flex;gap:14px;overflow-x:auto;padding:12px 8px;scroll-behavior:smooth}
    .product{min-width:220px;background:var(--glass);border-radius:12px;padding:12px;flex:0 0 auto}
    .product img{width:100%;height:170px;object-fit:cover;border-radius:10px}
    .p-name{font-weight:600;font-size:14px;margin:8px 0 4px}
    .p-price{color:var(--muted);margin-bottom:8px}
    .product .add{width:100%;padding:8px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.1);color:inherit;cursor:pointer}

    .floating-row{position:fixed;right:18px;bottom:18px;z-index:9999;display:flex;flex-direction:column;gap:12px;align-items:flex-end}
    .fab{width:56px;height:56px;border-radius:50%;background:linear-gradient(180deg,var(--accent),#b8842f);display:flex;align-items:center;justify-content:center;cursor:pointer;border:none}
    .badge{position:relative;color:#000;font-weight:800;margin-left:-12px;margin-top:-46px;background:white;padding:6px 8px;border-radius:20px;font-size:13px}

    .cart-drawer{position:fixed;right:0;top:0;height:100%;width:360px;max-width:95vw;background:#0e0d12;transform:translateX(110%);transition:.3s;padding:20px;z-index:9998}
    .cart-drawer.open{transform:translateX(0)}
    .cart-item{display:flex;gap:10px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.05)}
    .cart-item img{width:56px;height:56px;object-fit:cover;border-radius:8px}
    .order-form input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:transparent;color:inherit;margin-bottom:8px}
    .order-form .send{width:100%;padding:12px;border-radius:10px;background:var(--accent);border:none;color:#120d05;font-weight:800;cursor:pointer}
  </style>
</head>

<body>
  <div class="container">
    <header style="display:flex;justify-content:space-between;margin-bottom:14px">
      <div><strong>Dusk</strong><br><small style="color:#aaa">Luxury in Every Drop</small></div>
      <div><a href="mailto:anshpatil71work@gmail.com" style="color:#aaa">Contact</a></div>
    </header>

    <section class="hero">
      <div class="bg" style="background-image:url('https://i.ibb.co/twg1rVFj/Heroimage.webp')"></div>
      <div class="content">
        <h1>DUSK â€” Premium Essence</h1>
        <p>Curated bottles for the discerning palate.</p>
        <a class="btn" id="shopNow">Shop Now</a>
      </div>
    </section>

    <section id="products">
      <div class="section-head">
        <h2>Premium Selections</h2>
      </div>
      <div class="carousel" id="carousel"></div>
    </section>

    <footer style="text-align:center;color:#888">Â© Dusk â€” The Art of Distinction</footer>
  </div>

  <div class="floating-row">
    <div class="badge" id="cartBadge" style="display:none">0</div>
    <button class="fab" id="cartBtn">ðŸ›’</button>
  </div>

  <aside class="cart-drawer" id="cartDrawer">
    <h3>Cart</h3>
    <div id="cartItems"></div>
    <p><strong>Total:</strong> â‚¹<span id="cartTotal">0</span></p>
    <div class="order-form">
      <input id="custName" placeholder="Your name" />
      <input id="custPhone" placeholder="Phone number" />
      <button class="send" id="sendOrderBtn">Send Order</button>
    </div>
  </aside>

  <!-- EmailJS -->
  <script src="https://cdn.emailjs.com/sdk/latest/email.min.js"></script>
  <script>
    const EMAILJS_USER_ID = 'L_F68QFk8bKdcc1-O';
    const EMAILJS_SERVICE_ID = 'service_mm2ddz2';
    const EMAILJS_TEMPLATE_ID = 'template_6f8jkdc';

    emailjs.init(EMAILJS_USER_ID);

    const products = [
      {id:1,name:"Isabella's Islay Whisky",price:75000,img:'https://i.ibb.co/Z62HWr6y/Isabella-s-Islay-Whisky.jpg'},
      {id:2,name:"Yamazaki",price:32000,img:'https://i.ibb.co/wNdmcQxH/Yamazaki.jpg'},
      {id:3,name:"Glenfiddich",price:15000,img:'https://i.ibb.co/GKrxnzG/Glenfiddich.webp'}
    ];

    const carousel = document.getElementById('carousel');
    const cart = [];

    function numberWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");}

    products.forEach(p=>{
      const card=document.createElement('div');
      card.className='product';
      card.innerHTML=`
        <img src="${p.img}">
        <div class="p-name">${p.name}</div>
        <div class="p-price">â‚¹${numberWithCommas(p.price)}</div>
        <button class="add" data-id="${p.id}">Add to Cart</button>
      `;
      carousel.appendChild(card);
    });

    document.addEventListener('click',e=>{
      if(e.target.matches('.add')){
        const id=+e.target.dataset.id;
        const prod=products.find(p=>p.id===id);
        const found=cart.find(i=>i.id===id);
        if(found) found.qty++;
        else cart.push({...prod,qty:1});
        updateCart();
      }
    });

    function updateCart(){
      const wrap=document.getElementById('cartItems');
      wrap.innerHTML='';
      let total=0;
      cart.forEach(i=>{
        total+=i.price*i.qty;
        wrap.innerHTML+=`<div class="cart-item"><img src="${i.img}"><div>${i.name}<br>Qty:${i.qty}</div></div>`;
      });
      document.getElementById('cartTotal').innerText=numberWithCommas(total);
      document.getElementById('cartBadge').style.display=cart.length?'block':'none';
      document.getElementById('cartBadge').innerText=cart.reduce((s,i)=>s+i.qty,0);
    }

    document.getElementById('cartBtn').onclick=()=>{
      document.getElementById('cartDrawer').classList.toggle('open');
    };

    document.getElementById('sendOrderBtn').onclick=async()=>{
      const name=document.getElementById('custName').value.trim();
      const phone=document.getElementById('custPhone').value.trim();
      if(!name||!phone||!cart.length) return alert('Fill details & add items');

      const items=cart.map(i=>`${i.name} x${i.qty}`).join('\n');
      const total=cart.reduce((s,i)=>s+i.price*i.qty,0);

      try{
        await emailjs.send(EMAILJS_SERVICE_ID,EMAILJS_TEMPLATE_ID,{
          customer_name:name,
          customer_phone:phone,
          items_plain:items,
          total_amount:total
        });
        alert('Order sent successfully âœ”');
        cart.length=0; updateCart();
      }catch(err){
        console.error(err);
        alert('Email failed. Check console.');
      }
    };
  </script>
</body>
</html>
